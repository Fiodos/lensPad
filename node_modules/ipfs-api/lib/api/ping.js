'use strict';

module.exports = function (send) {
  return function ping(id, cb) {
    if (typeof cb !== 'function' && typeof Promise !== 'undefined') {
      return send('ping', id, { n: 1 }, null).then(function (res) {
        return res[1];
      });
    }

    return send('ping', id, { n: 1 }, null, function (err, res) {
      if (err) return cb(err, null);
      cb(null, res[1]);
    });
  };
};